(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{3941:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(1993).UU)("https://iohyiycjclqjxfhhewel.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlvaHlpeWNqY2xxanhmaGhld2VsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1Mzk1OTEsImV4cCI6MjA3NjExNTU5MX0.mZjN4Q_0mjmNDDKe5rbzM8Ef-ThVEMQ5h9mC6oIziO8")},4508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),l=s(3941);function o(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)({timesheetCode:"",fullName:"",role:"",department:"",hourlyCost:""});(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{let{data:e,error:s}=await l.N.from("people").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Erro ao carregar pessoas:",e),alert("Erro ao carregar pessoas")}},x=async s=>{s.preventDefault(),i(!0);try{let s={timesheet_code:d.timesheetCode,full_name:d.fullName,role:d.role,department:d.department,hourly_cost:d.hourlyCost?parseFloat(d.hourlyCost):0},{data:a,error:r}=await l.N.from("people").insert([s]).select();if(r)throw r;t([a[0],...e]),c({timesheetCode:"",fullName:"",role:"",department:"",hourlyCost:""}),o(!1)}catch(e){console.error("Erro ao criar pessoa:",e),alert("Erro ao criar pessoa")}finally{i(!1)}},u=e=>{c({...d,[e.target.name]:e.target.value})};return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Equipe PremiumBravo"}),(0,a.jsx)("button",{onClick:()=>o(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"+ Nova Pessoa"})]}),s&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Cadastrar Nova Pessoa"}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf3digo Timesheet (4 n\xfameros) *"}),(0,a.jsx)("input",{type:"text",name:"timesheetCode",value:d.timesheetCode,onChange:u,pattern:"\\d{4}",maxLength:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 1234"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),(0,a.jsx)("input",{type:"text",name:"fullName",value:d.fullName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Jo\xe3o Silva"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo *"}),(0,a.jsxs)("select",{name:"role",value:d.role,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Selecione um cargo"}),["Auditor J\xfanior","Auditor Pleno","Auditor S\xeanior","Gerente","Coordenador","Estagi\xe1rio","Analista"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),(0,a.jsxs)("select",{name:"department",value:d.department,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Selecione um departamento"}),["Auditoria","Consultoria","Administrativo","TI","Financeiro"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo Efetivo da Hora (R$) *"}),(0,a.jsx)("input",{type:"number",name:"hourlyCost",value:d.hourlyCost,onChange:u,required:!0,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 85.50"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Custo total da hora trabalhada (sal\xe1rio + encargos + benef\xedcios)"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,a.jsx)("button",{type:"submit",disabled:n,className:"bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600 disabled:opacity-50",children:n?"Salvando...":"Salvar Pessoa"}),(0,a.jsx)("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600",children:"Cancelar"})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"C\xf3digo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Departamento"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Custo Hora (R$)"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 font-mono text-sm text-gray-900",children:e.timesheet_code}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.full_name}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.role}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.department}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:["R$ ","number"==typeof e.hourly_cost?e.hourly_cost.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0.00"]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.active?"Ativo":"Inativo"})})]},e.id)),0===e.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Nenhuma pessoa cadastrada ainda"})})]})]})})]})}},8536:(e,t,s)=>{Promise.resolve().then(s.bind(s,4508))}},e=>{e.O(0,[993,441,255,358],()=>e(e.s=8536)),_N_E=e.O()}]);